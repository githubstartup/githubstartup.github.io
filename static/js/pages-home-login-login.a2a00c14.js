(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-login-login"],{"206d":function(e,t,n){"use strict";n.r(t);var r=n("d8a1"),i=n("964f");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("fa09");var s=n("2877"),o=Object(s["a"])(i["default"],r["a"],r["b"],!1,null,"516cd597",null);t["default"]=o.exports},3516:function(e,t,n){var r=n("ab55");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("4596a4e0",r,!0,{sourceMap:!1,shadowMode:!1})},"79dd":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("9f56");var i=n("890d"),a=r(n("44da")),s={data:function(){return{phone:"",password:"",applyStatus:"",words:"",navflag:!1,openId:"",height:""}},onLoad:function(){var e=uni.getSystemInfoSync(),t=(e.windowWidth,e.windowHeight);console.log(t),this.height=t,uni.removeStorage({key:"myselfpas",success:function(e){}})},methods:{apply:function(){var e=this;if(!this.navflag){this.navflag=!0,setTimeout(function(){e.navflag=!1},2e3);try{var t=uni.getStorageSync("openid");t&&(console.log(t,"value"),this.openId=t)}catch(r){}if(""!=this.openId){var n="?openId="+this.openId;(0,i.Apigetapply)(n).then(function(t){if(console.log(t),t.success){e.applyStatus=t.applyStatus;var n=e.applyStatus;"2"==n?uni.navigateTo({url:"/pages/home/examine/examine"}):"1"==n?uni.showToast({title:"您已经审核通过，不需要重新审核",icon:"none"}):"0"==n?t.row&&(e.words=t.row.applyWord,uni.navigateTo({url:"/pages/home/index/index?words="+e.words+"&applyStatus="+n})):"-1"==n&&uni.navigateTo({url:"/pages/home/index/index"})}else uni.showToast({title:t.msg,icon:"none"})})}else uni.navigateTo({url:"/pages/home/index/index"})}},forgetPassword:function(){var e=this;this.navflag||(this.navflag=!0,setTimeout(function(){e.navflag=!1},2e3),uni.navigateTo({url:"../changePassword/changePassword"}))},login:function(){var e=this;if(!this.navflag){if(this.navflag=!0,setTimeout(function(){e.navflag=!1},2e3),!this.phone)return uni.showToast({title:"请输入账号",icon:"none"}),!1;if(!this.phone)return uni.showToast({title:"请输入手机号",icon:"none"}),!1;if(!this.password)return uni.showToast({title:"请输入密码",icon:"none"}),!1;console.log("走第一"),(0,i.ApiPasswordLogin)({userName:this.phone,passWord:(0,a.default)(this.password)}).then(function(e){console.log(e,"2222"),e&&(1==e.success?(uni.reLaunch({url:"/pages/tabBar/home/home"}),uni.setStorageSync("companyName",e.user.companyCertification.companyName),uni.setStorageSync("userInfo",e),uni.setStorageSync("accessToken",e.accessToken),uni.setStorageSync("contactPerson",e.user.id)):uni.showToast({title:e.msg,icon:"none"}))})}}}};t.default=s},"964f":function(e,t,n){"use strict";n.r(t);var r=n("79dd"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t["default"]=i.a},"9f56":function(e,t,n){"use strict";n("c5f6"),n("28a5"),n("3b2b"),n("7f7f"),e.exports={error:"",check:function(e,t){for(var n=0;n<t.length;n++){if(!t[n].checkType)return!0;if(!t[n].name)return!0;if(!t[n].errorMsg)return!0;if(!e[t[n].name])return this.error=t[n].errorMsg,!1;switch(t[n].checkType){case"string":var r=new RegExp("^.{"+t[n].checkRule+"}$");if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"int":r=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[n].checkRule+"}$");if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[n].name]))return this.error=t[n].errorMsg,!1;var i=t[n].checkRule.split(",");if(i[0]=Number(i[0]),i[1]=Number(i[1]),e[t[n].name]>i[1]||e[t[n].name]<i[0])return this.error=t[n].errorMsg,!1;break;case"betweenD":r=/^-?[1-9][0-9]?$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;i=t[n].checkRule.split(",");if(i[0]=Number(i[0]),i[1]=Number(i[1]),e[t[n].name]>i[1]||e[t[n].name]<i[0])return this.error=t[n].errorMsg,!1;break;case"betweenF":r=/^-?[0-9][0-9]?.+[0-9]+$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;i=t[n].checkRule.split(",");if(i[0]=Number(i[0]),i[1]=Number(i[1]),e[t[n].name]>i[1]||e[t[n].name]<i[0])return this.error=t[n].errorMsg,!1;break;case"same":if(e[t[n].name]!=t[n].checkRule)return this.error=t[n].errorMsg,!1;break;case"notsame":if(e[t[n].name]==t[n].checkRule)return this.error=t[n].errorMsg,!1;break;case"email":r=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"phoneno":r=/^1[0-9]{10,10}$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"zipcode":r=/^[0-9]{6}$/;if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"reg":r=new RegExp(t[n].checkRule);if(!r.test(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"in":if(-1==t[n].checkRule.indexOf(e[t[n].name]))return this.error=t[n].errorMsg,!1;break;case"notnull":if(null==e[t[n].name]||e[t[n].name].length<1)return this.error=t[n].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)},regName:function(e){return RegExp(/^[\u4e00-\u9fa5]{2,6}$/).test(e)},regIDC:function(e){return RegExp(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/).test(e)},regPhone:function(e){return RegExp(/^1[34578]\d{9}$/).test(e)},regbank:function(e){return RegExp(/^([1-9]{1})(\d{15}|\d{18})$/).test(e)},regcontent:function(e){return RegExp(/\S$/).test(e)},regcontact:function(e){return RegExp(/[^\u4e00-\u9fa5]+/).test(e)}}},ab55:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.login[data-v-516cd597]{background-color:#fff}.logo[data-v-516cd597]{margin-top:0;padding-top:%?78?%}[data-v-516cd597] uni-page-body{background:#fff!important}[data-v-516cd597] .forget>.uni-input{border-bottom:0}[data-v-516cd597] uni-button:after{border:1px solid #fff}body.?%PAGE?%[data-v-516cd597]{background:#fff!important}',""])},d8a1:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login",style:{height:e.height+"px"}},[n("v-uni-view",{staticClass:"logo"},[n("v-uni-image",{staticStyle:{width:"146upx",height:"146upx"},attrs:{src:"../../../static/images/logo.png"}})],1),n("v-uni-view",{staticClass:"logo-text"},[e._v("人人巴士城市合伙人平台")]),n("v-uni-view",{staticClass:"uni-common-mt"},[n("v-uni-view",{staticClass:"uni-form-item uni-column"},[n("v-uni-view",{staticClass:"title"},[e._v("账号")]),n("v-uni-input",{staticClass:"uni-input",attrs:{focus:"",placeholder:"请输入手机号码","placeholder-style":"color:#CCCCCC",maxlength:"11"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),n("v-uni-view",{staticClass:"uni-form-item uni-column"},[n("v-uni-view",{staticClass:"title"},[e._v("密码")]),n("v-uni-view",{staticClass:"uni-flex forget",staticStyle:{"border-bottom":"1px solid #D8D8D8"}},[n("v-uni-input",{staticClass:"uni-input",attrs:{"placeholder-style":"color:#CCCCCC",password:"",type:"text",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-uni-text",{staticStyle:{color:"#0082FF","align-items":"center",display:"-webkit-flex"},on:{click:function(t){t=e.$handleEvent(t),e.forgetPassword()}}},[e._v("忘记密码?")])],1)],1)],1),n("v-uni-view",{staticClass:"uni-btn"},[n("v-uni-button",{staticClass:"uni-btn-submit",attrs:{type:"button",disabled:e.navflag},on:{click:function(t){t=e.$handleEvent(t),e.login(t)}}},[e._v("登录")])],1),n("v-uni-view",{staticClass:"uni-btn uni-btn-line"},[n("v-uni-button",{staticClass:"uni-btn-submit",attrs:{type:"button",disabled:e.navflag},on:{click:function(t){t=e.$handleEvent(t),e.apply(t)}}},[e._v("申请代理")])],1)],1)},i=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},fa09:function(e,t,n){"use strict";var r=n("3516"),i=n.n(r);i.a}}]);